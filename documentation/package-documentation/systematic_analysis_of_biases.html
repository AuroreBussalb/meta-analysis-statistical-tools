<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>systematic_analysis_of_biases package &#8212; Assess Neurofeedback efficacy  documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Assess Neurofeedback efficacy  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="systematic-analysis-of-biases-package">
<h1>systematic_analysis_of_biases package<a class="headerlink" href="#systematic-analysis-of-biases-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-systematic_analysis_of_biases.import_csv_for_factors">
<span id="systematic-analysis-of-biases-import-csv-for-factors-module"></span><h2>systematic_analysis_of_biases.import_csv_for_factors module<a class="headerlink" href="#module-systematic_analysis_of_biases.import_csv_for_factors" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-import_csv_for_factors"></span><dl class="function">
<dt id="systematic_analysis_of_biases.import_csv_for_factors.import_csv">
<code class="descclassname">systematic_analysis_of_biases.import_csv_for_factors.</code><code class="descname">import_csv</code><span class="sig-paren">(</span><em>csv_file</em><span class="sig-paren">)</span><a class="headerlink" href="#systematic_analysis_of_biases.import_csv_for_factors.import_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports data from a csv file containing parents and sometimes teachers&#8217; severity assessments of ADHD in children and factor values. 
This csv file contains all the data required to perform the SAOB.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>csv_file (str): name or localisation of the csv file that contains all the values of clinical trials required to perform teh SAOB.</dt>
<dd><dl class="first last docutils">
<dt>The csv file must have a specific form: </dt>
<dd><ul class="first last simple">
<li>eight first columns: Author, Year, Score Name, Number of patients, Raters (Parents or Teachers), Time (pre and post), Mean, Std;</li>
<li>other columns correspond to factors to analyze;</li>
<li>each study has at least 2 lines: Author name, Year, Score Name, Number of patients, Raters (Parents or Teachers) repeated twice, 
Time (pre and post), Mean (at pre-test and post-test), Std (at pre-test and post-test). If Teachers assessments are available,
two lines must be added;</li>
<li>sometimes, for a study, several clinical scales are available, they are all entered in the csv file;</li>
<li>for each author, the 2 lines of the Raters column have to be filled as follows: Parents, Parents, if teachers&#8217; assessment
is available 2 more lines are added (Teachers, Teachers);</li>
<li>for each author, the 2 lines of the Time column have to be filled as follows: pre, post (pattern repeated one more
time if teachers assessment is available);</li>
<li>Mean and Std correspond to the clinical score extracted from studies at pre-test and post-test.</li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd><dl class="first last docutils">
<dt>df_values_parents (pandas.DataFrame): parents&#8217;s ratings required to perform the SAOB.</dt>
<dd>Each row corresponds to a study and a specific clinical scale, ADHD symptoms are assessed by parents,
Columns correspond to mean_post_test_NFB, mean_post_test_control, mean_pre_test_NFB, mean_pre_test_control, n_NFB, 
n_control, std_post_test_NFB, std_post_test_control, std_pre_test_NFB, std_pre_test_control, raters and factors.</dd>
<dt>df_values_teachers (pandas.DataFrame): teachers&#8217;s ratings required to perform the SAOB.</dt>
<dd>Each row correspond to a study and a specific clinical scale,, ADHD symptoms are assessed by teachers,
Columns correspond to mean_post_test_NFB, mean_post_test_control, mean_pre_test_NFB, mean_pre_test_control, n_NFB, 
n_control, std_post_test_NFB, std_post_test_control, std_pre_test_NFB, std_pre_test_control, raters and factors.</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="systematic-analysis-of-biases-perform-systematic-analysis-of-bias-module">
<h2>systematic_analysis_of_biases.perform_systematic_analysis_of_bias module<a class="headerlink" href="#systematic-analysis-of-biases-perform-systematic-analysis-of-bias-module" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Effect sizes computed for each study correspond to the effect sizes within subjects.
Thus, the effect size is computed from the pre and post test values of the treatment group. So here a control group is not neccessary.</p>
</div>
<span class="target" id="module-systematic_analysis_of_biases.perform_systematic_analysis_of_bias"></span><span class="target" id="module-perform_systematic_analysis_of_bias"></span><dl class="function">
<dt id="systematic_analysis_of_biases.perform_systematic_analysis_of_bias.decision_tree">
<code class="descclassname">systematic_analysis_of_biases.perform_systematic_analysis_of_bias.</code><code class="descname">decision_tree</code><span class="sig-paren">(</span><em>X_non_standardized</em>, <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#systematic_analysis_of_biases.perform_systematic_analysis_of_bias.decision_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes a Decision tree.</p>
<p>Non linear and hierarchical method.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first docutils">
<dt>X (pandas.DataFrame): preprocessed dataframe containing all observations in rows and factors in columns (the independent variables). </dt>
<dd>Factors with too many missing values and with too many identical 
observations have been removed. Besides, values have been standardized. 
Categorical variables are coded in dummies.
This dataframe is obtained thanks to the <code class="docutils literal"><span class="pre">preprocess_factors</span></code> function.</dd>
</dl>
<p class="last">y (pandas.Series): effect size within subjects computed for each observation (the dependent variable).</p>
</dd>
<dt>Returns:</dt>
<dd>decision_tree (pdf): decision tree obtained.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="systematic_analysis_of_biases.perform_systematic_analysis_of_bias.ordinary_linear_regression">
<code class="descclassname">systematic_analysis_of_biases.perform_systematic_analysis_of_bias.</code><code class="descname">ordinary_linear_regression</code><span class="sig-paren">(</span><em>X</em>, <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#systematic_analysis_of_biases.perform_systematic_analysis_of_bias.ordinary_linear_regression" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs Ordinary Least Squares.</p>
<p>Dependent variable = effect size within subjects; independent variable = factors. 
P independent variables and n observations.
model: XB = y; y (nx1) column vector of dependent variables, X (nxP) matrix
of independent variables, B (Px1) column vector of coefficients.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first docutils">
<dt>X (pandas.DataFrame): preprocessed dataframe containing all observations in rows and factors in columns (the independent variables). </dt>
<dd>Factors with too many missing values and with too many identical 
observations have been removed. Besides, values have been standardized. 
Categorical variables are coded in dummies.
This dataframe is obtained thanks to the <code class="docutils literal"><span class="pre">preprocess_factors</span></code> function.</dd>
</dl>
<p class="last">y (pandas.Series): effect size within subjects computed for each observation (the dependent variable).</p>
</dd>
<dt>Returns:</dt>
<dd><dl class="first last docutils">
<dt>summary_ols (statsmodels.iolib.summary.Summary): summary of the OLS regression.</dt>
<dd>In particular values of coefficients, associated pvalues, F-statistics, Prob(Omnibus), skew and kurtosis.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="systematic_analysis_of_biases.perform_systematic_analysis_of_bias.preprocess_factors">
<code class="descclassname">systematic_analysis_of_biases.perform_systematic_analysis_of_bias.</code><code class="descname">preprocess_factors</code><span class="sig-paren">(</span><em>df</em><span class="sig-paren">)</span><a class="headerlink" href="#systematic_analysis_of_biases.perform_systematic_analysis_of_bias.preprocess_factors" title="Permalink to this definition">¶</a></dt>
<dd><p>Preprocesses factors before running the SAOB.</p>
<p>Factors with too many missing values and with too many identical observations will be removed.
Besides, values can be standardized. The categorial variables will be codded as dummies.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>df (pandas.DataFrame): dataframe containing all observations in rows, factors and also values to compute the effect size within subjects in columns. </dt>
<dd>It is obtained after the import of the csv file containing all data by <code class="docutils literal"><span class="pre">import_csv_for_factors</span></code>.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd><dl class="first last docutils">
<dt>X (pandas.DataFrame): preprocessed dataframe containing all observations in rows and factors in columns.</dt>
<dd>Factors with too many missing values and with too many identical observations have been removed.
Categorical variables are coded in dummies.
Values here are standardized.</dd>
<dt>X_non_standardized (pandas.DataFrame): preprocessed dataframe containing all observations in rows and factors in columns.</dt>
<dd>Factors with too many missing values and with too many identical observations have been removed.
Categorical variables are coded in dummies.
Values here are not standardized.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="systematic_analysis_of_biases.perform_systematic_analysis_of_bias.regularization_lassoAIC">
<code class="descclassname">systematic_analysis_of_biases.perform_systematic_analysis_of_bias.</code><code class="descname">regularization_lassoAIC</code><span class="sig-paren">(</span><em>X</em>, <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#systematic_analysis_of_biases.perform_systematic_analysis_of_bias.regularization_lassoAIC" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs Lasso model fit with Lars using AIC for model selection.</p>
<p>Dependent variable = effect size within subjects; independent variable = factors. 
P independent variables and n observations.
model: XB = y; y (nx1) column vector of dependent variables, X (nxP) matrix
of independent variables, B (Px1) column vector of coefficients.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first docutils">
<dt>X (pandas.DataFrame): preprocessed dataframe containing all observations in rows and factors in columns (the independent variables). </dt>
<dd>Factors with too many missing values and with too many identical 
observations have been removed. Besides, values have been standardized. 
Categorical variables are coded in dummies.
This dataframe is obtained thanks to the <code class="docutils literal"><span class="pre">preprocess_factors</span></code> function.</dd>
</dl>
<p class="last">y (pandas.Series): effect size within subjects computed for each observation (the dependent variable).</p>
</dd>
<dt>Returns:</dt>
<dd><dl class="first last docutils">
<dt>coeff_aic (pandas.DataFrame): results of the Lasso.</dt>
<dd>Column with coefficients obtained after regularization and the names of the associated factors.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="systematic_analysis_of_biases.perform_systematic_analysis_of_bias.regularization_lassocv">
<code class="descclassname">systematic_analysis_of_biases.perform_systematic_analysis_of_bias.</code><code class="descname">regularization_lassocv</code><span class="sig-paren">(</span><em>X</em>, <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#systematic_analysis_of_biases.perform_systematic_analysis_of_bias.regularization_lassocv" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs Lasso linear model with iterative fitting along a regularization path.
The best model is selected by cross-validation.</p>
<p>Dependent variable = effect size within subjects; independent variable = factors. 
P independent variables and n observations.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first docutils">
<dt>X (pandas.DataFrame): preprocessed dataframe containing all observations in rows and factors in columns (the independent variables). </dt>
<dd>Factors with too many missing values and with too many identical observations have been removed. Besides, values have been standardized. 
Categorical variables are coded in dummies.
This dataframe is obtained thanks to the <code class="docutils literal"><span class="pre">preprocess_factors</span></code> function.</dd>
</dl>
<p class="last">y (pandas.Series): effect size within subjects computed for each observation (the dependent variable).</p>
</dd>
<dt>Returns:</dt>
<dd><dl class="first docutils">
<dt>coeff (pandas.DataFrame): results of the Lasso.</dt>
<dd>Column with coefficients obtained after regularization and the names of the associated factors.</dd>
<dt>mse_test (numpy.ndarray): mean square error for the test set on each fold, varying alpha.</dt>
<dd>Shape (n_alphas, n_folds).</dd>
<dt>alphas (numpy.ndarray): the grid of alphas used for fitting.</dt>
<dd>Shape (n_alphas).</dd>
</dl>
<p class="last">alpha (float): the amount of penalization chosen by cross validation.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="systematic_analysis_of_biases.perform_systematic_analysis_of_bias.weighted_linear_regression">
<code class="descclassname">systematic_analysis_of_biases.perform_systematic_analysis_of_bias.</code><code class="descname">weighted_linear_regression</code><span class="sig-paren">(</span><em>df</em>, <em>X</em>, <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#systematic_analysis_of_biases.perform_systematic_analysis_of_bias.weighted_linear_regression" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs Weighted Least Squares.</p>
<p>Dependent variable = effect size within subjects; independent variable = factors. 
P independent variables and n observations.
model: WXB = Wy; W (nxn) diagonal matrix of weights, y (nx1) column vector
of dependent variables, X (nxP) matrix of independent variables, B (Px1) 
column vector of coefficients.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first docutils">
<dt>df (pandas.DataFrame): dataframe containing all observations in rows, factors in columns and also values to compute the effect size within subjects. </dt>
<dd>It is obtained after the import of the csv file containing all data by <code class="docutils literal"><span class="pre">import_csv_for_factors</span></code>.</dd>
<dt>X (pandas.DataFrame): preprocessed dataframe containing all observations in rows and factors in columns (the independent variables). </dt>
<dd>Factors with too many missing values and with too many identical observations have been removed. Besides, values have been standardized. 
Categorical variables are coded in dummies.
This dataframe is obtained thanks to the <code class="docutils literal"><span class="pre">preprocess_factors</span> <span class="pre">function</span></code>.</dd>
</dl>
<p class="last">y (pandas.Series): effect size within subjects computed for each observation (the dependent variable).</p>
</dd>
<dt>Returns:</dt>
<dd><dl class="first last docutils">
<dt>summary (statsmodels.iolib.summary.Summary): summary of the WLS regression.</dt>
<dd>In particular values of coefficients, associated pvalues, F-statistics, Prob(Omnibus), skew and kurtosis.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">An example of the use of this package is proposed in <code class="docutils literal"><span class="pre">example\systematic-analysis-of-biases</span></code>. Data is available to review and update the work presented in <em>Bussalb et al.</em>.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">systematic_analysis_of_biases package</a><ul>
<li><a class="reference internal" href="#module-systematic_analysis_of_biases.import_csv_for_factors">systematic_analysis_of_biases.import_csv_for_factors module</a></li>
<li><a class="reference internal" href="#systematic-analysis-of-biases-perform-systematic-analysis-of-bias-module">systematic_analysis_of_biases.perform_systematic_analysis_of_bias module</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/systematic_analysis_of_biases.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Assess Neurofeedback efficacy  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Aurore Bussalb.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.6.
    </div>
  </body>
</html>